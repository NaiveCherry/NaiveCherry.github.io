# CSS的基础笔记3

浮动 float
---
## 简介
> 通过浮动可以使一个元素向其父元素的左侧或右侧排列
- none：默认值，元素不浮动。
- left：元素向左浮动
- right：元素向右浮动
> 可以脱离文档流，水平布局的等式不再强制成立，元素下方还在文档流中的元素会自动向上移动。

## 特点
- 浮动元素会完全脱离文档流，不再占据文档流中的位置。
- 设置浮动以后元素会向父元素的左侧或者右侧移动。
- 浮动元素默认不会从父元素中移出。
- 浮动元素向左或向右浮动时，水平方向不会超过它前面的其他浮动元素。
- 如果浮动元素的上面是一个没有浮动的块元素，则浮动元素无法上移。
- 浮动元素不会在水平方向超过它的上一个浮动的兄弟元素。
- 如果一行内无法容纳所有元素则会自动转行。
- 浮动元素不会盖住文字，文字会自动环绕在浮动元素周围，可以利用浮动来设置文字环绕图片效果。

> 浮动目前主要作用就是让页面中的元素可以水平排列，达到水平方向的布局的效果。

## 出现高度塌陷的问题
> 当需要父元素高度不固定需要用内容撑开时，其中子元素内容用float脱离文档流就会出现子元素不再占据父元素空间，无法撑开父元素的大小，导致父元素出现高度丢失，影响布局效果。

<br/>

### 解决高度塌陷问题使用BFC（Block Formatting Context）块级格式化环境
- BFC是元素隐含的属性，可以通过一些设置给一个元素开启BFC,html标签自带BFC属性。

#### 开启后，该元素会变成一个独立的布局区域，具体特点有
- 开启BFC的元素不会被浮动元素覆盖
- 开启BFC的元素子元素和父元素外边框不会重叠，解决垂直布局相邻父子元素折叠问题
- 开启BFC的元素可以包含浮动的子元素，解决高度塌陷的问题

#### 开启BFC的一些方式（无法直接开启）
- 设置overflow为非visible值，常用的是hidden。（一般情况下不会有问题）
- 设置元素的浮动，高度宽度都会自适应，而且元素也会脱离文档流。
- 将元素设置为行内块元素display:inline-block;高度和宽度都会自适应，而且不适合做外部布局容器<br/>
……

### 通过clear解决高度塌陷问题
- 通过在浮动的子元素后面添加空div，设置clear属性清除浮动将父元素撑开（改变结构解决显示问题）
- 在父元素中设置伪类::after添加空，转变为table元素，设置clear:both属性。

---

清除浮动clear
---
## 简介
clear是清除浮动元素对当前元素的影响，也可以间接解决高度塌陷问题。
> 原理：设置去除浮动以后，浏览器会自动添加一个上边距，不受其他浮动元素影响，开发者工具不显示。

## 属性
- left：去除左浮动的元素影响
- right：去除右浮动的元素影响
- both：去除两侧中最大影响的元素

### 衍生的奇怪用法 claerfix
```html
<style>
claerfix::before,clerarfix::after{
    content:'';   /*添加空字符*/
    display:tabel;    /*添加的内容设置为表格元素，解决垂直布局外边距折叠的问题*/
    clear:both    /*清除浮动效果，解决高度塌陷问题*/
  }
</style>
```
这个方法解决了指定的父元素垂直布局外边距折叠和高度塌陷的问题。

----

定位
---

## 简介
- 定位是一种更加高级的布局手段
- 通过定位可以将元素摆放到页面的任意位置
- 通过设置position属性值来设置定位

### 属性值
- static
> 默认值，静止的，没有开启定位
-relative
> 开启元素的相对定位
- absolute
> 开启元素的绝对定位
- fixed
> 开启元素的固定定位
- sticky
> 开启元素的粘滞定位

### 偏移量
> top、bottom、left、right四个属性，偏移量是元素相对于参照物元素对应边角的距离。

### （relative）相对定位的特点
- 元素开启相对定位后，如果不设置偏移量，元素不会有任何的变化。
- 相对定位是参照于元素在文档流中的位置进行定位。（参照物是元素原来位置）
- 相对定位会提升元素的层级，覆盖文档流的元素。
- 相对定位不会使元素脱离文档流，也不会改变元素的性质块元素还是块元素，行内元素还是行内元素。

### （absolute）绝对定位的特点
- 元素开启绝对定位后，如果不设置偏移量，元素的<strong>位置</strong>不会发生变化
- 开启绝对定位后，元素会从文档流中脱离
- 绝对定位会改变元素的性质，行内元素变成块元素，块元素的宽高被内容撑开。
- 绝对定位会使元素提升一个层级。
- 绝对定位元素是相对于其包含块进行定位的。（参照物是包含块）

#### 绝对定位的水平布局
- 绝对定位的水平方向布局等式需要添加left和right两个值，此时是9个值，也会发生过度约束。
- 9个值中没有auto时，则自动调整right以使等式满足，就算设置了right最后结算也会调整right使等式成立。
- 如果值有auto则调整auto的值，可以设置auto的值有margin、width、left、right。
- left和right的值默认是auto，如果要通过margin设置居中对齐，要先设置left和right为0。
> 提醒：过度定位是，元素水平方向的外边距+内边距+元素宽度+元素边框要等于包含块的宽度，绝对定位要添加left和right两个值。

#### 绝对定位的垂直布局
- 垂直布局也会有过度约束，要求等式满足包含块的高度，九个值中没有auto时调整bottom的值。
- 如果值有auto则调整auto的值，可以设置auto的值有margin、width、left、right。
- top和bottom的值默认是auto，如果要通过margin设置居中对齐，要先设置top和bottom为0。
> 基本原理和水平布局一致，有过度约束后就可以用外边距自适应来垂直居中了。
> 绝对定位可以通过四个偏移量都为0，外边距四个值都自适应时，元素相对于包含块水平垂直居中。

### （fixed）固定定位
- 固定定位也是一种绝对定位，所以大部分特点都和绝对定位一样
- 唯一不同的是参考物永远是浏览器的视口进行定位，滚屏是会跟随。

### （sticky）粘滞定位
- 粘滞定位和相对定位的特点基本一致，不同的是粘滞定位可以在到达某个位置时将其固定
- 参照物是包含块，对IE兼容不好，功能用JS代码替代。

### 包含块
- 正常情况下包含块就是离当前元素最近的祖先块元素。
- 绝对定位的包含块是离它最近的开启了定位的祖先块元素，如果祖先元素都没有开启定位，则根元素就是它的包含块
> html（根元素、初始包含块）

### 层级
对于开启了定位元素，可以通过z-index属性来指定元素的层级
- z-index需要一个整数作为参数，值越大元素的层级越高，元素的层级越高越优先显示。
- 对开启了定位的层级都一样
- 如果元素的层级一样，优先显示html结构中靠下的元素。
- 祖先元素的层级再高也不会盖住后代元素。
